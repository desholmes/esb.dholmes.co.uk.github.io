(this["webpackJsonpemma-sam-bank"]=this["webpackJsonpemma-sam-bank"]||[]).push([[0],{65:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(0),r=t.n(c),s=t(13),i=t.n(s),l=t(19),o=t(84),d=t(87),j=t(82),b=t(86),u=t(88),h=t(30),m=t(83),g=t(73),x=t(85),f=(new Date).getFullYear();var O=function(){return Object(a.jsx)(g.a,{background:"brand",pad:"medium",justify:"center",children:Object(a.jsxs)(x.a,{align:"center",children:["Copyright ESB \xa9",f]})})},p=t(77),v=t(78),y=t(79),k=t(80),S=t(81),F=t(43),w=t.n(F),E=function(e){for(var n=parseFloat(e[0].amount),t=1;t<e.length;t++)n+=parseFloat(e[t].amount);return n};var $=function(e){var n="https://spreadsheets.google.com/feeds/list/1WYnauh6xhyMscmutXPTeDOUdKVbjYaBVwEt1SbImPeg/".concat(e.user,"/public/full?alt=json"),t=Object(c.useState)({loading:!0,transactions:[],balance:"0"}),r=Object(l.a)(t,2),s=r[0],i=r[1],o=function(e){return e.map((function(e,n){return{id:e.id.$t.substring(e.id.$t.lastIndexOf("/")+1,e.id.$t.length),key:n,date:e.gsx$date.$t,amount:e.gsx$amount.$t,displayAmount:(t=e.gsx$amount.$t,0===t.indexOf("-")?"-\xa3".concat(parseFloat(t.substring(1,t.length)).toFixed(2)):"\xa3".concat(parseFloat(t).toFixed(2)))};var t}))};return Object(c.useEffect)((function(){i({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=o(e.feed.entry);i({loading:!1,balance:E(n),transactions:n.reverse()})}))}),[i,n]),Object(a.jsxs)(h.a,{pad:"none",overflow:"auto",children:[Object(a.jsx)(m.a,{margin:"small",onClick:function(){i({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=o(e.feed.entry);i({loading:!1,balance:E(n),transactions:n.reverse()})}))},primary:!0,label:"Refresh"}),Object(a.jsxs)(b.a,{level:"2",margin:"small",children:["Balance: ",s.loading?"...":"\xa3".concat(s.balance)]}),Object(a.jsx)(b.a,{level:"3",margin:"small",children:"Transactions"}),Object(a.jsx)(h.a,{direction:"row",justify:"center",children:Object(a.jsx)(w.a,{height:50,width:4,color:"#228BE6",loading:s.loading})}),s.transactions&&Object(a.jsxs)(p.a,{children:[Object(a.jsx)(v.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(k.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Date"})}),Object(a.jsx)(k.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Amount"})})]})}),Object(a.jsx)(S.a,{children:s.transactions&&s.transactions.map((function(e,n){return Object(a.jsxs)(y.a,{children:[Object(a.jsx)(k.a,{scope:"row",children:e.date}),Object(a.jsx)(k.a,{children:e.displayAmount})]},n)}))})]})]})},B={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},C={SH:1,EH:2},H=(new Date).toLocaleString().replace(",",""),D=H.substring(0,H.lastIndexOf(":"));var I=function(){var e=Object(c.useState)(!1),n=Object(l.a)(e,2),t=n[0],r=n[1],s=function(e){r(e)};return Object(a.jsx)(o.a,{theme:B,themeMode:"dark",full:!0,children:Object(a.jsxs)(d.a,{fill:!0,direction:"column",rows:["auto","flex","auto"],children:[Object(a.jsxs)(j.a,{background:"brand",pad:"medium",children:[Object(a.jsx)(b.a,{level:"1",margin:"none",children:"ESB"}),Object(a.jsx)(u.a,{background:"#bee1ff",children:Object(a.jsx)(b.a,{level:"4",margin:"none",children:t})})]}),Object(a.jsxs)(h.a,{pad:"small",children:[Object(a.jsx)(b.a,{level:"4",margin:"small",alignSelf:"end",children:D}),t?Object(a.jsx)($,{user:C[t]}):Object(a.jsxs)(h.a,{margin:"large",children:[Object(a.jsx)(m.a,{margin:"small",onClick:function(){return s("EH")},primary:!0,label:"EH"}),Object(a.jsx)(m.a,{margin:"small",onClick:function(){return s("SH")},primary:!0,label:"SH"})]})]}),Object(a.jsx)(h.a,{justify:"end",direction:"column",children:Object(a.jsx)(O,{})})]})})},P=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,89)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root")),P()}},[[65,1,2]]]);
//# sourceMappingURL=main.6fc4493e.chunk.js.map