(this["webpackJsonpemma-sam-bank"]=this["webpackJsonpemma-sam-bank"]||[]).push([[0],{61:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(0),r=t.n(c),s=t(14),l=t.n(s),i=t(13),o=t(85),d=t(88),j=t(83),b=t(87),u=t(89),h=t(30),m=t(84),x=t(74),g=t(86),O=(new Date).getFullYear();var f=function(){return Object(a.jsx)(x.a,{background:"brand",pad:"medium",justify:"center",children:Object(a.jsxs)(g.a,{align:"center",children:["Copyright ESB \xa9",O]})})},p=t(78),v=t(79),y=t(80),S=t(81),k=t(82),F=t(43),w=t.n(F),E=function(e){for(var n=parseFloat(e[0].amount),t=1;t<e.length;t++)n+=parseFloat(e[t].amount);return n};var $=function(e){var n="https://spreadsheets.google.com/feeds/list/1WYnauh6xhyMscmutXPTeDOUdKVbjYaBVwEt1SbImPeg/".concat(e.user,"/public/full?alt=json"),t=Object(c.useState)({loading:!0,transactions:[],balance:"0"}),r=Object(i.a)(t,2),s=r[0],l=r[1],o=function(e){return e.map((function(e,n){return{id:e.id.$t.substring(e.id.$t.lastIndexOf("/")+1,e.id.$t.length),key:n,date:e.gsx$date.$t,amount:e.gsx$amount.$t,displayAmount:(t=e.gsx$amount.$t,0===t.indexOf("-")?"-\xa3".concat(parseFloat(t.substring(1,t.length)).toFixed(2)):"\xa3".concat(parseFloat(t).toFixed(2)))};var t}))};return Object(c.useEffect)((function(){l({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=o(e.feed.entry);l({loading:!1,balance:E(n),transactions:n.reverse()})}))}),[l,n]),Object(a.jsxs)(h.a,{pad:"none",overflow:"scroll",children:[Object(a.jsx)(m.a,{margin:"small",onClick:function(){l({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=o(e.feed.entry);l({loading:!1,balance:E(n),transactions:n.reverse()})}))},primary:!0,label:"Refresh"}),Object(a.jsxs)(b.a,{level:"2",margin:"small",children:["Balance: ",s.loading?"...":"\xa3".concat(s.balance)]}),Object(a.jsx)(b.a,{level:"3",margin:"small",children:"Transactions"}),Object(a.jsx)(h.a,{direction:"row",justify:"center",children:Object(a.jsx)(w.a,{height:50,width:4,color:"#228BE6",loading:s.loading})}),Object(a.jsx)(h.a,{pad:"none",children:s.transactions&&Object(a.jsxs)(p.a,{children:[Object(a.jsx)(v.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(S.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Date"})}),Object(a.jsx)(S.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Amount"})})]})}),Object(a.jsx)(k.a,{children:s.transactions&&s.transactions.map((function(e,n){return Object(a.jsxs)(y.a,{children:[Object(a.jsx)(S.a,{scope:"row",children:e.date}),Object(a.jsx)(S.a,{children:e.displayAmount})]},n)}))})]})})]})},B=(t(61),{global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}}),C={SH:1,EH:2},H=["","red","purple"],D=(new Date).toLocaleString().replace(",",""),I=D.substring(0,D.lastIndexOf(":"));var P=function(){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),t=n[0],r=n[1],s=Object(c.useState)("default"),l=Object(i.a)(s,2),x=l[0],g=l[1],O=function(e){r(e),g(H[C[e]])};return Object(a.jsx)("div",{className:x,children:Object(a.jsx)(o.a,{theme:B,themeMode:"dark",full:!0,children:Object(a.jsxs)(d.a,{fill:!0,direction:"column",rows:["auto","flex","auto"],children:[Object(a.jsxs)(j.a,{background:"brand",pad:"medium",children:[Object(a.jsx)(b.a,{level:"1",margin:"none",children:"ESB"}),t&&Object(a.jsx)(u.a,{background:"#bee1ff",children:Object(a.jsx)(b.a,{level:"4",margin:"none",children:t})})]}),Object(a.jsxs)(h.a,{pad:"small",children:[!t&&Object(a.jsx)(b.a,{level:"4",margin:"medium",children:"Select a user:"}),t&&Object(a.jsx)(b.a,{level:"4",margin:"small",alignSelf:"end",children:I}),t?Object(a.jsx)($,{user:C[t]}):Object(a.jsxs)(h.a,{margin:"",children:[Object(a.jsx)(m.a,{margin:"small",onClick:function(){return O("EH")},primary:!0,label:"EH"}),Object(a.jsx)(m.a,{margin:"small",onClick:function(){return O("SH")},primary:!0,label:"SH"})]})]}),Object(a.jsx)(h.a,{justify:"end",direction:"column",children:Object(a.jsx)(f,{})})]})})})},T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.39312c07.chunk.js.map