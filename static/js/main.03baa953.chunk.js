(this["webpackJsonpemma-sam-bank"]=this["webpackJsonpemma-sam-bank"]||[]).push([[0],{65:function(e,n,t){},70:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(15),s=t.n(r),i=t(14),l=t(89),o=t(92),d=t(87),j=t(91),u=t(93),b=t(31),h=t(88),m=t(78),x=t(90),g=t(2),O=(new Date).getFullYear();var f=function(){return Object(g.jsx)(m.a,{background:"brand",pad:"medium",justify:"center",children:Object(g.jsxs)(x.a,{align:"center",children:["Copyright ESB \xa9",O]})})},p=t(82),v=t(83),y=t(84),S=t(85),k=t(86),F=t(44),w=t.n(F),E=function(e){for(var n=parseFloat(e[0].amount),t=1;t<e.length;t++)n+=parseFloat(e[t].amount);return n.toFixed(2)};var $=function(e){var n="https://spreadsheets.google.com/feeds/list/1WYnauh6xhyMscmutXPTeDOUdKVbjYaBVwEt1SbImPeg/".concat(e.user,"/public/full?alt=json"),t=Object(a.useState)({loading:!0,transactions:[],balance:"0"}),c=Object(i.a)(t,2),r=c[0],s=c[1],l=function(e){return e.map((function(e,n){return{id:e.id.$t.substring(e.id.$t.lastIndexOf("/")+1,e.id.$t.length),key:n,date:e.gsx$date.$t,amount:e.gsx$amount.$t,displayAmount:(t=e.gsx$amount.$t,0===t.indexOf("-")?"-\xa3".concat(parseFloat(t.substring(1,t.length)).toFixed(2)):"\xa3".concat(parseFloat(t).toFixed(2)))};var t}))};return Object(a.useEffect)((function(){s({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=l(e.feed.entry);s({loading:!1,balance:E(n),transactions:n.reverse()})}))}),[s,n]),Object(g.jsxs)(b.a,{pad:"none",overflow:"scroll",children:[Object(g.jsx)(h.a,{margin:"small",onClick:function(){s({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=l(e.feed.entry);s({loading:!1,balance:E(n),transactions:n.reverse()})}))},primary:!0,label:"Refresh"}),Object(g.jsxs)(j.a,{level:"2",margin:"small",children:["Balance: ",r.loading?"...":"\xa3".concat(r.balance)]}),Object(g.jsx)(j.a,{level:"3",margin:"small",children:"Transactions"}),Object(g.jsx)(b.a,{direction:"row",justify:"center",children:Object(g.jsx)(w.a,{height:50,width:4,color:"#228BE6",loading:r.loading})}),Object(g.jsx)(b.a,{pad:"none",children:r.transactions&&Object(g.jsxs)(p.a,{children:[Object(g.jsx)(v.a,{children:Object(g.jsxs)(y.a,{children:[Object(g.jsx)(S.a,{scope:"col",border:"bottom",children:Object(g.jsx)("strong",{children:"Date"})}),Object(g.jsx)(S.a,{scope:"col",border:"bottom",children:Object(g.jsx)("strong",{children:"Amount"})})]})}),Object(g.jsx)(k.a,{children:r.transactions&&r.transactions.map((function(e,n){return Object(g.jsxs)(y.a,{children:[Object(g.jsx)(S.a,{scope:"row",children:e.date}),Object(g.jsx)(S.a,{children:e.displayAmount})]},n)}))})]})})]})},B=(t(65),{global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}}),C={SH:1,EH:2},H=["","red","purple"],D=(new Date).toLocaleString().replace(",",""),I=D.substring(0,D.lastIndexOf(":"));var P=function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)("default"),s=Object(i.a)(r,2),m=s[0],x=s[1],O=function(e){c(e),x(H[C[e]])};return Object(g.jsx)("div",{className:m,children:Object(g.jsx)(l.a,{theme:B,themeMode:"dark",full:!0,children:Object(g.jsxs)(o.a,{fill:!0,direction:"column",rows:["auto","flex","auto"],children:[Object(g.jsxs)(d.a,{background:"brand",pad:"medium",children:[Object(g.jsx)(j.a,{level:"1",margin:"none",onClick:function(){return O(!1)},children:"ESB"}),t&&Object(g.jsx)(u.a,{background:"#bee1ff",children:Object(g.jsx)(j.a,{level:"4",margin:"none",children:t})})]}),Object(g.jsxs)(b.a,{pad:"small",children:[!t&&Object(g.jsx)(j.a,{level:"4",margin:"medium",children:"Select a user:"}),t&&Object(g.jsx)(j.a,{level:"4",margin:"small",alignSelf:"end",children:I}),t?Object(g.jsx)($,{user:C[t]}):Object(g.jsxs)(b.a,{margin:"",children:[Object(g.jsx)(h.a,{margin:"small",onClick:function(){return O("EH")},primary:!0,label:"EH"}),Object(g.jsx)(h.a,{margin:"small",onClick:function(){return O("SH")},primary:!0,label:"SH"})]})]}),Object(g.jsx)(b.a,{justify:"end",direction:"column",children:Object(g.jsx)(f,{})})]})})})},T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,94)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root")),T()}},[[70,1,2]]]);
//# sourceMappingURL=main.03baa953.chunk.js.map