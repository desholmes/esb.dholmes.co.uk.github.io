(this["webpackJsonpemma-sam-bank"]=this["webpackJsonpemma-sam-bank"]||[]).push([[0],{64:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),s=n(31),o=n.n(s),i=n(78),l=n(81),d=n(77),j=n(80),b=n(82),u=n(29),h=n(11),g=n.n(h),m=n(70),x=n(79),O=(new Date).getFullYear();var f=function(){return Object(a.jsx)(m.a,{background:"brand",pad:"medium",justify:"center",children:Object(a.jsxs)(x.a,{align:"center",children:["Copyright ESB \xa9",O]})})},p=n(43),v=n(72),w=n(73),y=n(74),k=n(75),$=n(76),B=function(e){for(var t=parseFloat(e[0].amount),n=1;n<e.length;n++)t+=parseFloat(e[n].amount);return t};var E=function(e){var t="https://spreadsheets.google.com/feeds/list/1WYnauh6xhyMscmutXPTeDOUdKVbjYaBVwEt1SbImPeg/".concat(e.user,"/public/full?alt=json"),n=Object(c.useState)({loading:!0,transactions:[],balance:"0"}),r=Object(p.a)(n,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){o({loading:!0}),fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.feed.entry.map((function(e,t){return{id:e.id.$t.substring(e.id.$t.lastIndexOf("/")+1,e.id.$t.length),key:t,date:e.gsx$date.$t,amount:e.gsx$amount.$t,displayAmount:(n=e.gsx$amount.$t,0===n.indexOf("-")?"-\xa3".concat(n.substring(1,n.length)):"\xa3".concat(n))};var n}));o({loading:!1,balance:B(t),transactions:t.reverse()})}))}),[o,t]),Object(a.jsxs)(u.a,{pad:"none",overflow:"auto",children:[Object(a.jsxs)(j.a,{level:"2",margin:"small",children:["Balance: ",s.loading?"...":"\xa3".concat(s.balance)]}),Object(a.jsx)(j.a,{level:"3",margin:"small",children:"Transactions"}),Object(a.jsx)(u.a,{direction:"row",justify:"center",children:Object(a.jsx)(g.a,{height:50,width:4,color:"#228BE6",loading:s.loading})}),s.transactions&&Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(k.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Date"})}),Object(a.jsx)(k.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Amount"})})]})}),Object(a.jsx)($.a,{children:s.transactions&&s.transactions.map((function(e,t){return Object(a.jsxs)(y.a,{children:[Object(a.jsx)(k.a,{scope:"row",children:e.date}),Object(a.jsx)(k.a,{children:e.displayAmount})]},t)}))})]})]})},S={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},F=["","SH","EH"];var P=function(){var e=new URLSearchParams(window.location.search).get("user");return Object(a.jsx)(i.a,{theme:S,themeMode:"dark",full:!0,children:Object(a.jsxs)(l.a,{fill:!0,direction:"column",rows:["auto","flex","auto"],children:[Object(a.jsxs)(d.a,{background:"brand",pad:"medium",children:[Object(a.jsx)(j.a,{level:"1",margin:"none",children:"ESB"}),Object(a.jsx)(g.a,{size:30,width:2,color:"#fff",loading:!0}),Object(a.jsx)(b.a,{background:"#bee1ff",children:Object(a.jsx)(j.a,{level:"4",margin:"none",children:F[e]})})]}),Object(a.jsx)(u.a,{pad:"small",children:Object(a.jsx)(E,{user:e})}),Object(a.jsx)(u.a,{justify:"end",direction:"column",children:Object(a.jsx)(f,{})})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),C()}},[[64,1,2]]]);
//# sourceMappingURL=main.13106f5e.chunk.js.map