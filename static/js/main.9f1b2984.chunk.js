(this["webpackJsonpemma-sam-bank"]=this["webpackJsonpemma-sam-bank"]||[]).push([[0],{64:function(e,n,t){"use strict";t.r(n);var a=t(2),c=t(1),r=t.n(c),s=t(30),o=t.n(s),i=t(78),l=t(81),d=t(77),j=t(80),b=t(82),u=t(28),h=t(70),g=t(79),m=(new Date).getFullYear();var x=function(){return Object(a.jsx)(h.a,{background:"brand",pad:"medium",justify:"center",children:Object(a.jsxs)(g.a,{align:"center",children:["Copyright ESB \xa9",m]})})},O=t(43),f=t(72),p=t(73),v=t(74),w=t(75),y=t(76),S=t(42),k=t.n(S),$=function(e){for(var n=parseFloat(e[0].amount),t=1;t<e.length;t++)n+=parseFloat(e[t].amount);return n};var B=function(e){var n="https://spreadsheets.google.com/feeds/list/1WYnauh6xhyMscmutXPTeDOUdKVbjYaBVwEt1SbImPeg/".concat(e.user,"/public/full?alt=json"),t=Object(c.useState)({loading:!0,transactions:[],balance:"0"}),r=Object(O.a)(t,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){o({loading:!0}),fetch(n).then((function(e){return e.json()})).then((function(e){var n=e.feed.entry.map((function(e,n){return{id:e.id.$t.substring(e.id.$t.lastIndexOf("/")+1,e.id.$t.length),key:n,date:e.gsx$date.$t,amount:e.gsx$amount.$t,displayAmount:(t=e.gsx$amount.$t,0===t.indexOf("-")?"-\xa3".concat(t.substring(1,t.length)):"\xa3".concat(t))};var t}));o({loading:!1,balance:$(n),transactions:n.reverse()})}))}),[o,n]),Object(a.jsxs)(u.a,{pad:"none",overflow:"auto",children:[Object(a.jsxs)(j.a,{level:"2",margin:"small",children:["Balance: ",s.loading?"...":"\xa3".concat(s.balance)]}),Object(a.jsx)(j.a,{level:"3",margin:"small",children:"Transactions"}),Object(a.jsx)(u.a,{direction:"row",justify:"center",children:Object(a.jsx)(k.a,{height:50,width:4,color:"#228BE6",loading:s.loading})}),s.transactions&&Object(a.jsxs)(f.a,{children:[Object(a.jsx)(p.a,{children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Date"})}),Object(a.jsx)(w.a,{scope:"col",border:"bottom",children:Object(a.jsx)("strong",{children:"Amount"})})]})}),Object(a.jsx)(y.a,{children:s.transactions&&s.transactions.map((function(e,n){return Object(a.jsxs)(v.a,{children:[Object(a.jsx)(w.a,{scope:"row",children:e.date}),Object(a.jsx)(w.a,{children:e.displayAmount})]},n)}))})]})]})},E={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},F=["","SH","EH"],D=(new Date).toLocaleString().replace(",",""),I=D.substring(0,D.lastIndexOf(":"));var P=function(){var e=new URLSearchParams(window.location.search).get("user");return Object(a.jsx)(i.a,{theme:E,themeMode:"dark",full:!0,children:Object(a.jsxs)(l.a,{fill:!0,direction:"column",rows:["auto","flex","auto"],children:[Object(a.jsxs)(d.a,{background:"brand",pad:"medium",children:[Object(a.jsx)(j.a,{level:"1",margin:"none",children:"ESB"}),Object(a.jsx)(b.a,{background:"#bee1ff",children:Object(a.jsx)(j.a,{level:"4",margin:"none",children:F[e]})})]}),Object(a.jsxs)(u.a,{pad:"small",children:[Object(a.jsx)(j.a,{level:"4",margin:"small",alignSelf:"end",children:I}),Object(a.jsx)(B,{user:e})]}),Object(a.jsx)(u.a,{justify:"end",direction:"column",children:Object(a.jsx)(x,{})})]})})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,83)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,s=n.getTTFB;t(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),C()}},[[64,1,2]]]);
//# sourceMappingURL=main.9f1b2984.chunk.js.map